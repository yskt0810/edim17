<html lang="ja">
<head>
	<title>EDIM2017 Main Visual</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="./css/uikit.min.css">

	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="./js/datamaps.world.min.js"></script>
	<script src="./js/gShake.js"></script>
	<script src="./js/uikit.min.js"></script>
    <script src="./js/uikit-icons.min.js"></script>
    

	<script type="text/javascript">

			window.addEventListener("deviceorientation", function(event){


				var alpha = event.alpha;
				var beta = event.beta;
				var gamma = event.gamma;

				if(gamma > 15 ){
					if($('#view_1964').is(':visible')){
						$('#view_1964').fadeOut(500);
						$('#view_2016').fadeIn(500);
						
					}
					
				}

				if(gamma < -15){
					if($('#view_2016').is(':visible')){
						$('#view_2016').fadeOut(500);
						$('#view_1964').fadeIn(500);
					}
				}

			});

			$(document).ready(function(){

				$(this).gShake(function(){
					if($('#view_overlay').is(':visible')){
						$('#view_ovarlay').fadeOut(500);

					}else{
						$('#view_overlay').fadeIn(500);
						
					}
				});

			});


	</script>


	<style type="text/css">


	#view_2016, #view_2016 #container_2016 {
		position: absolute;
		z-index: 100;
		top: 0;
		left:0;
		width: 100%;
		height: 50%;
		
	}

	#view_1964, #view_1964 #container_1964 {
		position: absolute;
		z-index: 100;
		top: 0;
		left:0;
		width: 100%;
		height: 50%;
		

	}

	#view_overlay {

		position: absolute;
		z-index: 100;
		top: 0;
		left: 0;
		width: 100%;
		height:100%;
		opacity: 0.5;
		background-color: #333333;
		margin: 0 auto;

	}

	#overlay_title,
	#overlay_contents {
		color: #FFFFFF;
	}
	
	</style>


</head>
<body>

<div id="viewer">
	<div id="view_1964">
		<div id="container_1964">
			<script src="./datas/1964.js"></script>
		</div>
		<center>
			<p>1964</p>
			<p><a href="https://github.com/yskt0810/edim17">Source</a>
		</center>
	</div>	
	<div id="view_2016">
		<div id="container_2016"><script src="./datas/2016.js"></script></div>
		<center>
			<p class="uk-text-center">2016</p>
			<p class="uk-text-center"><a href="https://github.com/yskt0810/edim17">Source</a>
		</center>
	</div>
	
</div>

<div id="view_overlay">
		<div class="uk-section" style="width: 100%; height: 100%;">
		<div class="uk-container uk-container-large">
			<h2 class="uk-heading-divider" id="overlay_title">Olympic Data Visualization</h2>
			<p class="uk-text-justify" id="overlay_contents">
				この世界地図は、1964年東京オリンピックと2016年リオデジャネイロオリンピックの参加国・地域を表現しています。
				40年前、東京には約93カ国と地域からの選手がやってきました。昨年のリオデジャネイロでは、2倍以上の206カ国と
				地域に増えています。2020年には、かつてないほど多くの国々から選手・人々が東京に来ることが予測されます。
			</p>
			<button type="button" id="close_overlay" class="uk-button uk-button-secondary uk-align-center">CLOSE</button>
		</div>
		</div>
		
</div>

<script type="text/javascript">

	$('#view_2016').hide();
	$('#view_overlay').hide();

	$('#viewer').click(function(){
		$('#view_overlay').fadeIn(500);


	});

	

	$('#close_overlay').click(function(){
		$('#view_overlay').fadeOut(500);

		
	});

	$(function(){

		setInterval(function(){
			if($('#view_1964').is(':visible')){
				$('#view_1964').fadeOut(500);
				$('#view_2016').fadeIn(500);
				
				
			}else if($('#view_2016').is(':visible')){
			
				$('#view_2016').fadeOut(500);
				$('#view_1964').fadeIn(500);
			}


		},5000);
	});


</script>

</body>
</html>
